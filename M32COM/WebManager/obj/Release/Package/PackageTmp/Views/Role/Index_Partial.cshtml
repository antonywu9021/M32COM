@model WebManager.MyPageInfo<WebModel.Role>
@{
    var role = WebManager.DAConfig.GetButtonRole("Role/Index");
}
<table class="tablelist">
    <thead>
        <tr>

            <th>序号</th>
            <th>权限名称</th>
            <th>创建时间</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var mm in Model.List)
        {
            <tr>
               
                <td>@mm.ID</td>
                <td>@mm.Name</td>
                <td>@mm.CreateTime.ToString("yyyy-MM-dd HH:mm:ss")</td>
                <td>
                    @if (role.UserType == 0 || role.RoleDetail.Where(pp => pp.ButtonName.Contains("编辑")).Count() > 0)
                    {
                        <a href="/Role/EditRole?id=@mm.ID" class="tablelink" title="编辑"><i class="iconfont">&#xf014f;</i>编辑</a>
                    }
                    @if (role.UserType == 0 || role.RoleDetail.Where(pp => pp.ButtonName.Contains("删除")).Count() > 0)
                    {
                        <a onclick="$.del('/Role/DelRole?id=@mm.ID','/Role/Index')" class="tablelink" title="删除"><i class="iconfont">&#xf029a;</i>删除</a>
                    }
                    @if (role.UserType == 0 || role.RoleDetail.Where(pp => pp.ButtonName.Contains("设置权限")).Count() > 0)
                    {
                        <a href="/Role/MenuRelationRole?id=@mm.ID" class="tablelink" title="设置权限"><i class="iconfont">&#xf010b;</i>设置权限</a>
                    }
                 </td>
            </tr>
        }
    </tbody>
</table>
@Html.PageLinks(Model.Page, m => "$.getpage('" + Model.Page.ReturnUrl + "','','#list')")
<script type="text/javascript">
    $('.tablelist tbody tr:odd').addClass('odd');
</script>



